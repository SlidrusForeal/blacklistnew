{% extends "base.html" %}

{% block title %}ЧС Сосмарка - Полный список{% endblock %}

{% block content %}
<div class="container">
  <h1>ПОЛНЫЙ СПИСОК</h1>
  <input type="text" id="search-input" placeholder="Поиск по нику...">
  <ul id="blacklist">
    {% for player in players %}
      <li>
        <!-- Изменение: используем nickname для получения аватара -->
        <img src="https://crafatar.com/avatars/{{ player.uuid.replace('-', '') }}?size=100&overlay" alt="{{ player.nickname }}'s head">
        <div class="player-info">
          <a href="https://namemc.com/profile/{{ player.uuid }}" target="_blank" rel="noopener noreferrer">
            {{ player.nickname }}
          </a>
          <p>Причина: {{ player.reason }}</p>
        </div>
      </li>
    {% endfor %}
  </ul>
</div>
<script>
  // Небольшой скрипт для фильтрации списка на стороне клиента
  document.getElementById("search-input").addEventListener("input", function() {
    const term = this.value.toLowerCase();
    document.querySelectorAll("#blacklist li").forEach(function(li) {
      li.style.display = li.textContent.toLowerCase().includes(term) ? "" : "none";
    });
  });
</script>
{% endblock %}
