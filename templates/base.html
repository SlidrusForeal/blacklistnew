<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  {# Child templates can override this #}
  {% set page_title = page_title|default("ЧС Сосмарка") %}
  <title>{{ page_title }}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="Content-Security-Policy"
      content="default-src 'self';
               img-src 'self' data: https://minotar.net https://avatars.githubusercontent.com;
               script-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com;
               style-src 'self' 'unsafe-inline';
               connect-src 'self' https://api.mojang.com https://api.minecraftservices.com;
               upgrade-insecure-requests;">

  <!-- SEO Meta Tags -->
  <meta name="description" content="Проверьте наличие вашего никнейма в черном списке Сосмаркской Империи. Мгновенная проверка и актуальные данные.">
  <meta name="keywords" content="ЧС, черный список, Сосмарк, blacklist, проверка никнейма">
  <meta name="robots" content="index, follow">
  <meta name="author" content="Сосмарк">

  <!-- Open Graph -->
  <meta property="og:site_name" content="ЧС Сосмарка">
  <meta property="og:title" content="{{ page_title }}">
  <meta property="og:description" content="Проверьте наличие вашего никнейма в черном списке Сосмаркской Империи.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="{{ request.url }}">
  <meta property="og:image" content="{{ url_for('static', filename='icons/og-image.png') }}">
  <meta property="og:locale" content="ru_RU">

  <!-- PWA & Icons -->
  <meta name="theme-color" content="#1a1a1a">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="apple-touch-icon" href="{{ url_for('static', filename='icons/apple-touch-icon.png') }}">
  <link rel="apple-touch-startup-image" href="{{ url_for('static', filename='icons/apple-touch-icon.png') }}">
  <link rel="icon" href="{{ url_for('static', filename='icons/favicon.ico') }}" type="image/x-icon">
  <link rel="manifest" href="{{ url_for('static', filename='manifest.json') }}">

  <!-- CSS -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

  <!-- preconnect для внешних хостов аватарок и шрифтов -->
  <link rel="preconnect" href="https://minotar.net">
  <link rel="preconnect" href="https://fonts.googleapis.com">

  <!-- preload основного шрифта -->
  <link rel="preload" href="{{ url_for('static', filename='fonts/Poppins.woff2') }}" as="font" type="font/woff2" crossorigin>
  <script src="{{ url_for('static', filename='js/sw-register.js') }}" defer></script>
  <script src="{{ url_for('static', filename='js/confetti.browser.min.js') }}" defer></script>
  {% block head %}{% endblock %}
</head>
<body>
  <noscript>Для работы приложения требуется JavaScript</noscript>

  <header>
    <nav>
      <ul>
        <li><a href="{{ url_for('index') }}">Главная</a></li>
        <li><a href="{{ url_for('fullist') }}">Полный список</a></li>
        <li><a href="{{ url_for('contacts') }}">Контакты</a></li>
      </ul>
    </nav>
  </header>

  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      <div class="notification">
        {% for category, message in messages %}
          <p class="{{ category }}">{{ message }}</p>
        {% endfor %}
      </div>
    {% endif %}
  {% endwith %}

  {% block content %}{% endblock %}

  <footer role="contentinfo">
    <p>&copy; {{ current_year() }} Сосмарк. Все права защищены.</p>
  </footer>

  {% block scripts %}{% endblock %}
</body>
</html>